pipeline{
	agent any
	parameters {
		string (name: 'name', defaultValue: 'madhu',description: 'name of the user')
	}
	stages{
		stage('build'){
			steps{
				echo "build stage"
				echo "my name is ${params.name}"
				}
			}
		parallel{
			stage('test1'){
				steps{
					echo "test stage enabling polling"
					echo "running test 1"
					bat 'set'
					}
				}
			stage('test2'){
				steps{
					echo "running test 2 parallel stage"
					}
				}
		}
		stage('deploy'){
			steps{
				echo "deploy stage"
				echo "current build number is ${env.BUILD_NUMBER}"
			}
		}
	}
	post {
		always {
			echo 'build failed'
			//mail to: madhu.vm111@gmail.com, subject: "status of the build ${env.BUILD_STATUS}"
		}
	}
}
			